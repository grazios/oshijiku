<!doctype html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>推し軸 - 推しを2次元MAPに置いて盛り上がろう</title>
  <meta name="description" content="推しを2つの軸で分類して2次元MAPに配置。作ったMAPは共有・コピーできる！" />
  <meta property="og:title" content="推し軸" />
  <meta property="og:description" content="推しを2次元MAPに置いて盛り上がろう" />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://oshijiku.com" />
  <meta property="og:image" content="https://oshijiku.com/ogp.png" />
  <meta name="twitter:card" content="summary" />
  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>📌</text></svg>" />
  <link rel="stylesheet" href="style.css?v=20260223a" />
</head>
<body>
  <header role="banner">
    <h1>推し軸</h1>
    <p>推しを2次元MAPに置いて盛り上がろう</p>
  </header>

  <main>
    <!-- ===== MAP Section (primary) ===== -->
    <section class="panel" aria-label="推し軸マップ">
      <h2>MAP</h2>
      <div id="mapWrap" role="img" aria-label="推しの2次元マップ">
        <svg id="map" viewBox="0 0 600 600" aria-hidden="true"></svg>
      </div>
      <p class="hint">💡 ドラッグで推しの位置を調整 ／ 軸ラベルをダブルクリックで編集</p>
      <button id="addOshiBtn" class="add-oshi-btn" aria-label="推しを追加">＋ 推しを追加</button>
      <div class="actions actions--three">
        <button id="shareBtn" aria-label="共有リンクを作成">共有リンクを作る</button>
        <button id="copyBtn" aria-label="共有URLをクリップボードにコピー">URLをコピー</button>
        <button id="forkBtn" aria-label="コピーして自分用に作る">コピーして自分用に作る</button>
      </div>
      <textarea id="shareUrl" readonly placeholder="共有リンクがここに出る" aria-label="共有URL"></textarea>
      <p id="shareMsg" class="save-msg" role="status" aria-live="polite"></p>
      <button id="deleteShareBtn" class="hidden" aria-label="共有を削除">共有を削除</button>
      <p class="hint">サーバーに保存されます。共有リンクで誰でも閲覧できます</p>
    </section>

    <!-- ===== Oshi List ===== -->
    <section class="panel" aria-label="推し一覧">
      <h2>推し一覧</h2>
      <ul id="oshiList" role="list"></ul>
    </section>
  </main>

  <!-- ===== Add Oshi Dialog ===== -->
  <dialog id="addOshiDialog" class="oshi-dialog">
    <form method="dialog">
      <h3>推しを追加</h3>
      <label for="dlgOshiName">名前（必須）</label>
      <input id="dlgOshiName" placeholder="推しの名前" required />
      <label for="dlgOshiImage">画像（任意・512KBまで）</label>
      <div class="image-pick-row">
        <button type="button" id="dlgImageBtn" class="image-pick-btn">📷 画像を選択</button>
        <input id="dlgOshiImage" type="file" accept="image/jpeg,image/png,image/webp" class="hidden" />
        <input id="dlgOshiImageData" type="hidden" />
      </div>
      <img id="dlgImagePreview" class="image-preview hidden" alt="" />
      <p id="dlgImageError" class="error-msg" role="alert" aria-live="assertive"></p>
      <label for="dlgOshiTags">タグ（任意・カンマ区切り）</label>
      <input id="dlgOshiTags" placeholder="沼, てぇてぇ" />
      <div class="dialog-actions">
        <button type="button" id="dlgAddBtn" class="dlg-primary">追加</button>
        <button type="button" id="dlgCancelBtn" class="dlg-cancel">キャンセル</button>
      </div>
    </form>
  </dialog>

  <script type="module" src="app.js?v=20260223a"></script>
</body>
</html>
