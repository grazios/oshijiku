<!doctype html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>推し軸 - 推しを2次元MAPに置いて盛り上がろう</title>
  <meta name="description" content="推しを2つの軸で分類して2次元MAPに配置。作ったMAPは共有・コピーできる！" />
  <meta property="og:title" content="推し軸" />
  <meta property="og:description" content="推しを2次元MAPに置いて盛り上がろう" />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://oshijiku.com" />
  <meta property="og:image" content="https://oshijiku.com/ogp.png" />
  <meta name="twitter:card" content="summary" />
  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>📌</text></svg>" />
  <link rel="stylesheet" href="style.css?v=20260222s" />
</head>
<body>
  <header role="banner">
    <h1>推し軸</h1>
    <p>推しを2次元MAPに置いて盛り上がろう</p>
  </header>

  <main>
    <!-- ===== Controls Grid (軸設定 + 推し追加) ===== -->
    <div class="controls">
      <!-- Axis Settings -->
      <section class="panel" aria-label="軸設定">
        <h2>軸設定</h2>
        <label for="title">タイトル</label>
        <input id="title" placeholder="例: 裏切る/裏切らない × 信頼できる/できない" />

        <div class="row">
          <div>
            <label for="xMin">X軸 左</label>
            <input id="xMin" placeholder="裏切る" />
          </div>
          <div>
            <label for="xMax">X軸 右</label>
            <input id="xMax" placeholder="裏切らない" />
          </div>
        </div>
        <div class="row">
          <div>
            <label for="yMin">Y軸 下</label>
            <input id="yMin" placeholder="信頼できない" />
          </div>
          <div>
            <label for="yMax">Y軸 上</label>
            <input id="yMax" placeholder="信頼できる" />
          </div>
        </div>
        <div class="row">
          <div>
            <label for="visibility">公開範囲</label>
            <select id="visibility">
              <option value="public">全体公開</option>
              <option value="url">URL共有</option>
            </select>
          </div>
        </div>
        <div class="actions actions--two">
          <button id="presetBtn">サンプル軸を投入</button>
          <button id="saveAxis">軸を保存</button>
        </div>
        <p id="saveMsg" class="save-msg" role="status" aria-live="polite"></p>
      </section>

      <!-- Add Oshi -->
      <section class="panel" aria-label="推し追加">
        <h2>推しを追加</h2>
        <div class="row">
          <div>
            <label for="oshiName">名前</label>
            <input id="oshiName" />
          </div>
          <div>
            <label for="oshiX">X(-100~100)</label>
            <input id="oshiX" type="number" min="-100" max="100" value="0" />
          </div>
        </div>
        <div class="row">
          <div>
            <label for="oshiY">Y(-100~100)</label>
            <input id="oshiY" type="number" min="-100" max="100" value="0" />
          </div>
          <div>
            <label for="oshiTags">タグ（カンマ区切り）</label>
            <input id="oshiTags" placeholder="沼, てぇてぇ" />
          </div>
        </div>
        <label for="oshiImage">画像（jpg / png / webp, 512KBまで）</label>
        <input id="oshiImage" type="file" accept="image/jpeg,image/png,image/webp" />
        <input id="oshiImageData" type="hidden" />
        <img id="oshiImagePreview" class="image-preview hidden" alt="" />
        <p id="oshiImageError" class="error-msg" role="alert" aria-live="assertive"></p>
        <button id="addOshi">追加</button>
      </section>
    </div>

    <!-- ===== MAP Section (full width) ===== -->
    <section class="panel" aria-label="推し軸マップ">
      <h2>MAP</h2>
      <div id="mapWrap" role="img" aria-label="推しの2次元マップ">
        <svg id="map" viewBox="0 0 600 600" aria-hidden="true"></svg>
      </div>
      <p class="hint">💡 ドラッグで推しの位置を調整できるよ</p>
      <div class="actions actions--three">
        <button id="shareBtn" aria-label="共有リンクを作成">共有リンクを作る</button>
        <button id="copyBtn" aria-label="共有URLをクリップボードにコピー">URLをコピー</button>
        <button id="forkBtn" aria-label="コピーして自分用に作る">コピーして自分用に作る</button>
      </div>
      <textarea id="shareUrl" readonly placeholder="共有リンクがここに出る" aria-label="共有URL"></textarea>
      <p id="shareMsg" class="save-msg" role="status" aria-live="polite"></p>
      <button id="deleteShareBtn" class="hidden" aria-label="共有を削除">共有を削除</button>
      <p class="hint">サーバーに保存されます。共有リンクで誰でも閲覧できます</p>
    </section>

    <!-- ===== Oshi List ===== -->
    <section class="panel" aria-label="推し一覧">
      <h2>推し一覧</h2>
      <ul id="oshiList" role="list"></ul>
    </section>
  </main>

  <script type="module" src="app.js?v=20260222s"></script>
</body>
</html>
